// ATC CSM (Customer Success Manager) Widget Demo Data
// Jordan Taylor persona-specific data for customer success management

import type {
  ClientHealthDashboardData,
  RenewalPipelineData,
  UpsellOpportunitiesData,
  ProductAdoptionMetricsData,
} from '@/types/widget';

// Client Health Dashboard Demo Data
export const clientHealthDashboardDemo: ClientHealthDashboardData = {
  title: 'Client Health Dashboard',
  period: 'November 2024',
  customersAnalyzed: 24,
  healthMetrics: [
    {
      customerId: 'CUST-001',
      customerName: 'Acme Corporation',
      arr: '$450,000',
      healthScore: 92,
      healthLevel: 'excellent',
      lastUpdated: '2024-11-20',
      trendDirection: 'up',
      scoreComponents: {
        productAdoption: 95,
        supportTickets: 88,
        paymentHealth: 100,
        renewalLikelihood: 94,
      },
      riskFactors: [],
      recommendations: [
        { priority: 'low', action: 'Schedule QBR to discuss expansion opportunities' },
      ],
    },
    {
      customerId: 'CUST-002',
      customerName: 'TechFlow Industries',
      arr: '$320,000',
      healthScore: 78,
      healthLevel: 'good',
      lastUpdated: '2024-11-19',
      trendDirection: 'stable',
      scoreComponents: {
        productAdoption: 82,
        supportTickets: 75,
        paymentHealth: 100,
        renewalLikelihood: 80,
      },
      riskFactors: ['Support ticket volume increased 15%'],
      recommendations: [
        { priority: 'medium', action: 'Review recent support tickets for patterns' },
        { priority: 'low', action: 'Offer training session on new features' },
      ],
    },
    {
      customerId: 'CUST-003',
      customerName: 'Global Solutions Ltd',
      arr: '$580,000',
      healthScore: 54,
      healthLevel: 'at-risk',
      lastUpdated: '2024-11-20',
      trendDirection: 'down',
      scoreComponents: {
        productAdoption: 45,
        supportTickets: 42,
        paymentHealth: 100,
        renewalLikelihood: 55,
      },
      riskFactors: [
        'Product adoption dropped 20% MoM',
        '5 critical tickets in past 30 days',
        'Key stakeholder left company',
      ],
      recommendations: [
        { priority: 'high', action: 'Schedule urgent executive review' },
        { priority: 'high', action: 'Deploy customer success specialist on-site' },
        { priority: 'medium', action: 'Create custom success plan' },
      ],
    },
    {
      customerId: 'CUST-004',
      customerName: 'DataDrive Systems',
      arr: '$890,000',
      healthScore: 35,
      healthLevel: 'critical',
      lastUpdated: '2024-11-20',
      trendDirection: 'down',
      scoreComponents: {
        productAdoption: 28,
        supportTickets: 25,
        paymentHealth: 60,
        renewalLikelihood: 30,
      },
      riskFactors: [
        'Payment 45 days overdue',
        'Usage dropped 65% in 60 days',
        'No executive engagement in 90 days',
        'Competitor evaluation in progress',
      ],
      recommendations: [
        { priority: 'high', action: 'Immediate escalation to VP of Customer Success' },
        { priority: 'high', action: 'Executive-to-executive outreach today' },
        { priority: 'high', action: 'Prepare retention package with 20% discount' },
      ],
    },
    {
      customerId: 'CUST-005',
      customerName: 'Innovate Inc',
      arr: '$275,000',
      healthScore: 85,
      healthLevel: 'good',
      lastUpdated: '2024-11-18',
      trendDirection: 'up',
      scoreComponents: {
        productAdoption: 88,
        supportTickets: 82,
        paymentHealth: 100,
        renewalLikelihood: 90,
      },
      riskFactors: [],
      recommendations: [
        { priority: 'low', action: 'Explore enterprise tier upgrade' },
      ],
    },
  ],
  overallHealthTrend: {
    labels: ['Aug', 'Sep', 'Oct', 'Nov'],
    datasets: [
      { label: 'Avg Health Score', data: [76, 78, 74, 72] },
      { label: 'At-Risk Customers', data: [2, 2, 3, 4] },
    ],
  },
};

// Renewal Pipeline Demo Data
export const renewalPipelineDemo: RenewalPipelineData = {
  title: 'Renewal Pipeline',
  period: 'Q4 2024 - Q1 2025',
  renewalCount: 12,
  totalArr: 4250000,
  renewals: [
    {
      customerId: 'CUST-004',
      customerName: 'DataDrive Systems',
      currentArr: 890000,
      renewalDate: '2024-12-15',
      daysUntilRenewal: 25,
      status: 'critical',
      expansionOpportunity: 0,
      renewalLikelihood: 30,
      csm: 'Jordan Taylor',
      lastEngagement: '2024-10-15',
      actionItems: [
        'Executive escalation required',
        'Prepare competitive response',
        'Schedule emergency QBR',
      ],
    },
    {
      customerId: 'CUST-003',
      customerName: 'Global Solutions Ltd',
      currentArr: 580000,
      renewalDate: '2025-01-31',
      daysUntilRenewal: 72,
      status: 'at-risk',
      expansionOpportunity: 50000,
      renewalLikelihood: 55,
      csm: 'Jordan Taylor',
      lastEngagement: '2024-11-10',
      actionItems: [
        'Address adoption concerns',
        'Connect new stakeholder',
        'Provide ROI analysis',
      ],
    },
    {
      customerId: 'CUST-001',
      customerName: 'Acme Corporation',
      currentArr: 450000,
      renewalDate: '2025-02-28',
      daysUntilRenewal: 100,
      status: 'on-track',
      expansionOpportunity: 150000,
      renewalLikelihood: 94,
      csm: 'Jordan Taylor',
      lastEngagement: '2024-11-18',
      actionItems: [
        'Discuss enterprise expansion',
        'Present new product features',
      ],
    },
    {
      customerId: 'CUST-002',
      customerName: 'TechFlow Industries',
      currentArr: 320000,
      renewalDate: '2025-03-15',
      daysUntilRenewal: 115,
      status: 'on-track',
      expansionOpportunity: 80000,
      renewalLikelihood: 80,
      csm: 'Jordan Taylor',
      lastEngagement: '2024-11-12',
      actionItems: [
        'Resolve open support tickets',
        'Schedule training session',
      ],
    },
    {
      customerId: 'CUST-005',
      customerName: 'Innovate Inc',
      currentArr: 275000,
      renewalDate: '2025-04-30',
      daysUntilRenewal: 161,
      status: 'on-track',
      expansionOpportunity: 125000,
      renewalLikelihood: 90,
      csm: 'Jordan Taylor',
      lastEngagement: '2024-11-15',
      actionItems: [
        'Present enterprise tier benefits',
      ],
    },
  ],
  summary: {
    upcomingMonth: 1,
    upcomingQuarter: 4,
    atRisk: 2,
    highValue: 3,
  },
};

// Upsell Opportunities Demo Data
export const upsellOpportunitiesDemo: UpsellOpportunitiesData = {
  title: 'Upsell & Expansion Opportunities',
  totalOpportunities: 8,
  totalPotentialRevenue: 685000,
  opportunities: [
    {
      customerId: 'CUST-001',
      customerName: 'Acme Corporation',
      currentArr: 450000,
      opportunityType: 'tier-upgrade',
      suggestedProduct: 'Enterprise Plus Tier',
      estimatedRevenue: 150000,
      confidence: 85,
      reasons: [
        'Exceeded user limit by 20%',
        'Heavy API usage indicates growth',
        'Requested advanced analytics features',
      ],
      buyingSignals: [
        'VP Engineering asked about enterprise features',
        'IT team evaluating SSO integration',
        'Budget cycle starts January',
      ],
      nextSteps: [
        'Schedule demo of Enterprise Plus features',
        'Prepare ROI comparison document',
        'Connect with procurement team',
      ],
      timelineToClose: '60 days',
    },
    {
      customerId: 'CUST-005',
      customerName: 'Innovate Inc',
      currentArr: 275000,
      opportunityType: 'add-on',
      suggestedProduct: 'Advanced Analytics Module',
      estimatedRevenue: 75000,
      confidence: 78,
      reasons: [
        'Frequent data export requests',
        'Asked about custom reporting',
        'Growing data team',
      ],
      buyingSignals: [
        'Data team expanded by 40%',
        'CTO mentioned data-driven initiatives',
      ],
      nextSteps: [
        'Demo analytics capabilities',
        'Provide trial access',
        'Share customer success stories',
      ],
      timelineToClose: '45 days',
    },
    {
      customerId: 'CUST-002',
      customerName: 'TechFlow Industries',
      currentArr: 320000,
      opportunityType: 'cross-sell',
      suggestedProduct: 'Integration Platform',
      estimatedRevenue: 80000,
      confidence: 65,
      reasons: [
        'Manual data sync complaints',
        'Uses 5+ external tools',
        'Integration pain points noted in support tickets',
      ],
      buyingSignals: [
        'Asked about API capabilities',
        'Support tickets mention workflow automation',
      ],
      nextSteps: [
        'Map current integration needs',
        'Present integration ROI',
        'Offer pilot program',
      ],
      timelineToClose: '90 days',
    },
    {
      customerId: 'CUST-006',
      customerName: 'NextGen Retail',
      currentArr: 180000,
      opportunityType: 'new-product',
      suggestedProduct: 'Mobile Commerce Suite',
      estimatedRevenue: 120000,
      confidence: 72,
      reasons: [
        'Retail industry focus',
        '60% of their traffic is mobile',
        'Competitor using mobile tools',
      ],
      buyingSignals: [
        'CEO mentioned mobile strategy',
        'Recent mobile team hires',
      ],
      nextSteps: [
        'Schedule mobile strategy consultation',
        'Share retail case studies',
        'Propose pilot for one store',
      ],
      timelineToClose: '75 days',
    },
  ],
  byType: {
    tierUpgrade: 2,
    addOn: 3,
    crossSell: 2,
    newProduct: 1,
  },
};

// Product Adoption Metrics Demo Data
export const productAdoptionMetricsDemo: ProductAdoptionMetricsData = {
  title: 'Product Adoption Metrics',
  period: 'Last 30 Days',
  customersTracked: 24,
  metrics: [
    {
      customerId: 'CUST-004',
      customerName: 'DataDrive Systems',
      currentAdoptionRate: 28,
      previousAdoptionRate: 65,
      trend: 'declining',
      trendPercentage: -57,
      featureUsage: [
        { feature: 'Dashboard', usageRate: 35, trend: 'down' },
        { feature: 'Reports', usageRate: 22, trend: 'down' },
        { feature: 'API', usageRate: 45, trend: 'down' },
        { feature: 'Integrations', usageRate: 10, trend: 'down' },
      ],
      loginsPerMonth: 45,
      activeUsers: 12,
      totalLicenses: 100,
      utilizationRate: 12,
      riskLevel: 'critical',
      recommendations: [
        'Immediate outreach to key stakeholders',
        'Identify blockers preventing usage',
        'Offer dedicated onboarding refresh',
      ],
    },
    {
      customerId: 'CUST-003',
      customerName: 'Global Solutions Ltd',
      currentAdoptionRate: 45,
      previousAdoptionRate: 62,
      trend: 'declining',
      trendPercentage: -27,
      featureUsage: [
        { feature: 'Dashboard', usageRate: 55, trend: 'down' },
        { feature: 'Reports', usageRate: 40, trend: 'down' },
        { feature: 'API', usageRate: 35, trend: 'stable' },
        { feature: 'Integrations', usageRate: 50, trend: 'down' },
      ],
      loginsPerMonth: 120,
      activeUsers: 35,
      totalLicenses: 75,
      utilizationRate: 47,
      riskLevel: 'high',
      recommendations: [
        'Connect with new stakeholder champion',
        'Provide feature-specific training',
        'Share best practices from similar customers',
      ],
    },
    {
      customerId: 'CUST-002',
      customerName: 'TechFlow Industries',
      currentAdoptionRate: 72,
      previousAdoptionRate: 75,
      trend: 'stable',
      trendPercentage: -4,
      featureUsage: [
        { feature: 'Dashboard', usageRate: 85, trend: 'stable' },
        { feature: 'Reports', usageRate: 70, trend: 'stable' },
        { feature: 'API', usageRate: 60, trend: 'up' },
        { feature: 'Integrations', usageRate: 73, trend: 'stable' },
      ],
      loginsPerMonth: 250,
      activeUsers: 42,
      totalLicenses: 50,
      utilizationRate: 84,
      riskLevel: 'medium',
      recommendations: [
        'Encourage adoption of underutilized features',
        'Highlight workflow automation benefits',
      ],
    },
    {
      customerId: 'CUST-001',
      customerName: 'Acme Corporation',
      currentAdoptionRate: 92,
      previousAdoptionRate: 88,
      trend: 'improving',
      trendPercentage: 5,
      featureUsage: [
        { feature: 'Dashboard', usageRate: 95, trend: 'up' },
        { feature: 'Reports', usageRate: 92, trend: 'up' },
        { feature: 'API', usageRate: 88, trend: 'up' },
        { feature: 'Integrations', usageRate: 93, trend: 'stable' },
      ],
      loginsPerMonth: 450,
      activeUsers: 85,
      totalLicenses: 100,
      utilizationRate: 85,
      riskLevel: 'low',
      recommendations: [
        'Recognize as power user for case study',
        'Invite to beta program for new features',
      ],
    },
    {
      customerId: 'CUST-005',
      customerName: 'Innovate Inc',
      currentAdoptionRate: 85,
      previousAdoptionRate: 80,
      trend: 'improving',
      trendPercentage: 6,
      featureUsage: [
        { feature: 'Dashboard', usageRate: 90, trend: 'up' },
        { feature: 'Reports', usageRate: 88, trend: 'up' },
        { feature: 'API', usageRate: 75, trend: 'up' },
        { feature: 'Integrations', usageRate: 87, trend: 'stable' },
      ],
      loginsPerMonth: 180,
      activeUsers: 32,
      totalLicenses: 40,
      utilizationRate: 80,
      riskLevel: 'low',
      recommendations: [
        'Explore API expansion use cases',
        'Discuss enterprise tier benefits',
      ],
    },
  ],
  adoptionTrend: {
    labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
    datasets: [
      { label: 'Overall Adoption', data: [68, 65, 62, 60] },
      { label: 'Declining Accounts', data: [2, 2, 3, 4] },
    ],
  },
};
